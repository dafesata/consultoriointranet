/*!
 * # Semantic UI - Accordion
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */

(function(e,t,n,r){t=typeof t!="undefined"&&t.Math==Math?t:typeof self!="undefined"&&self.Math==Math?self:Function("return this")(),e.fn.accordion=function(n){var i=e(this),s=(new Date).getTime(),o=[],u=arguments[0],a=typeof u=="string",f=[].slice.call(arguments,1),l=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},c;return i.each(function(){var l=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),h=l.className,p=l.namespace,d=l.selector,v=l.error,m="."+p,g="module-"+p,y=i.selector||"",b=e(this),w=b.find(d.title),E=b.find(d.content),S=this,x=b.data(g),T,N;N={initialize:function(){N.debug("Initializing",b),N.bind.events(),l.observeChanges&&N.observeChanges(),N.instantiate()},instantiate:function(){x=N,b.data(g,N)},destroy:function(){N.debug("Destroying previous instance",b),b.off(m).removeData(g)},refresh:function(){w=b.find(d.title),E=b.find(d.content)},observeChanges:function(){"MutationObserver"in t&&(T=new MutationObserver(function(e){N.debug("DOM tree modified, updating selector cache"),N.refresh()}),T.observe(S,{childList:!0,subtree:!0}),N.debug("Setting up mutation observer",T))},bind:{events:function(){N.debug("Binding delegated events"),b.on(l.on+m,d.trigger,N.event.click)}},event:{click:function(){N.toggle.call(this)}},toggle:function(t){var n=t!==r?typeof t=="number"?w.eq(t):e(t).closest(d.title):e(this).closest(d.title),i=n.next(E),s=i.hasClass(h.animating),o=i.hasClass(h.active),u=o&&!s,a=!o&&s;N.debug("Toggling visibility of content",n),u||a?l.collapsible?N.close.call(n):N.debug("Cannot close accordion content collapsing is disabled"):N.open.call(n)},open:function(t){var n=t!==r?typeof t=="number"?w.eq(t):e(t).closest(d.title):e(this).closest(d.title),i=n.next(E),s=i.hasClass(h.animating),o=i.hasClass(h.active),u=o||s;if(u){N.debug("Accordion already open, skipping",i);return}N.debug("Opening accordion content",n),l.onOpening.call(i),l.exclusive&&N.closeOthers.call(n),n.addClass(h.active),i.stop(!0,!0).addClass(h.animating),l.animateChildren&&(e.fn.transition!==r&&b.transition("is supported")?i.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:l.debug,verbose:l.verbose,duration:l.duration}):i.children().stop(!0,!0).animate({opacity:1},l.duration,N.resetOpacity)),i.slideDown(l.duration,l.easing,function(){i.removeClass(h.animating).addClass(h.active),N.reset.display.call(this),l.onOpen.call(this),l.onChange.call(this)})},close:function(t){var n=t!==r?typeof t=="number"?w.eq(t):e(t).closest(d.title):e(this).closest(d.title),i=n.next(E),s=i.hasClass(h.animating),o=i.hasClass(h.active),u=!o&&s,a=o&&s;(o||u)&&!a&&(N.debug("Closing accordion content",i),l.onClosing.call(i),n.removeClass(h.active),i.stop(!0,!0).addClass(h.animating),l.animateChildren&&(e.fn.transition!==r&&b.transition("is supported")?i.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:l.debug,verbose:l.verbose,duration:l.duration}):i.children().stop(!0,!0).animate({opacity:0},l.duration,N.resetOpacity)),i.slideUp(l.duration,l.easing,function(){i.removeClass(h.animating).removeClass(h.active),N.reset.display.call(this),l.onClose.call(this),l.onChange.call(this)}))},closeOthers:function(t){var n=t!==r?w.eq(t):e(this).closest(d.title),i=n.parents(d.content).prev(d.title),s=n.closest(d.accordion),o=d.title+"."+h.active+":visible",u=d.content+"."+h.active+":visible",a,f,c;l.closeNested?(a=s.find(o).not(i),c=a.next(E)):(a=s.find(o).not(i),f=s.find(u).find(o).not(i),a=a.not(f),c=a.next(E)),a.length>0&&(N.debug("Exclusive enabled, closing other content",a),a.removeClass(h.active),c.removeClass(h.animating).stop(!0,!0),l.animateChildren&&(e.fn.transition!==r&&b.transition("is supported")?c.children().transition({animation:"fade out",useFailSafe:!0,debug:l.debug,verbose:l.verbose,duration:l.duration}):c.children().stop(!0,!0).animate({opacity:0},l.duration,N.resetOpacity)),c.slideUp(l.duration,l.easing,function(){e(this).removeClass(h.active),N.reset.display.call(this)}))},reset:{display:function(){N.verbose("Removing inline display from element",this),e(this).css("display",""),e(this).attr("style")===""&&e(this).attr("style","").removeAttr("style")},opacity:function(){N.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),e(this).attr("style")===""&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){N.debug("Changing setting",t,n);if(e.isPlainObject(t))e.extend(!0,l,t);else{if(n===r)return l[t];e.isPlainObject(l[t])?e.extend(!0,l[t],n):l[t]=n}},internal:function(t,n){N.debug("Changing internal",t,n);if(n===r)return N[t];e.isPlainObject(t)?e.extend(!0,N,t):N[t]=n},debug:function(){!l.silent&&l.debug&&(l.performance?N.performance.log(arguments):(N.debug=Function.prototype.bind.call(console.info,console,l.name+":"),N.debug.apply(console,arguments)))},verbose:function(){!l.silent&&l.verbose&&l.debug&&(l.performance?N.performance.log(arguments):(N.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),N.verbose.apply(console,arguments)))},error:function(){l.silent||(N.error=Function.prototype.bind.call(console.error,console,l.name+":"),N.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;l.performance&&(t=(new Date).getTime(),r=s||t,n=t-r,s=t,o.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(N.performance.timer),N.performance.timer=setTimeout(N.performance.display,500)},display:function(){var t=l.name+":",n=0;s=!1,clearTimeout(N.performance.timer),e.each(o,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",y&&(t+=" '"+y+"'"),(console.group!==r||console.table!==r)&&o.length>0&&(console.groupCollapsed(t),console.table?console.table(o):e.each(o,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(t,n,i){var s=x,o,u,a;return n=n||f,i=S||i,typeof t=="string"&&s!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(s[a])&&n!=o)s=s[a];else{if(s[a]!==r)return u=s[a],!1;if(!e.isPlainObject(s[i])||n==o)return s[i]!==r?(u=s[i],!1):(N.error(v.method,t),!1);s=s[i]}})),e.isFunction(u)?a=u.apply(i,n):u!==r&&(a=u),e.isArray(c)?c.push(a):c!==r?c=[c,a]:a!==r&&(c=a),u}},a?(x===r&&N.initialize(),N.invoke(u)):(x!==r&&x.invoke("destroy"),N.initialize())}),c!==r?c:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}})})(jQuery,window,document);