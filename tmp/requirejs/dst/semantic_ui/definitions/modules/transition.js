/*!
 * # Semantic UI - Transition
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */

(function(e,t,n,r){t=typeof t!="undefined"&&t.Math==Math?t:typeof self!="undefined"&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var i=e(this),s=i.selector||"",o=(new Date).getTime(),u=[],a=arguments,f=a[0],l=[].slice.call(arguments,1),c=typeof f=="string",h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},p;return i.each(function(t){var h=e(this),d=this,v,m,g,y,b,w,E,S,x,T,N;N={initialize:function(){v=N.get.settings.apply(d,a),y=v.className,g=v.error,b=v.metadata,T="."+v.namespace,x="module-"+v.namespace,m=h.data(x)||N,w=N.get.animationEndEvent(),c&&(c=N.invoke(f)),c===!1&&(N.verbose("Converted arguments into settings object",v),v.interval?N.delay(v.animate):N.animate(),N.instantiate())},instantiate:function(){N.verbose("Storing instance of module",N),m=N,h.data(x,m)},destroy:function(){N.verbose("Destroying previous module for",d),h.removeData(x)},refresh:function(){N.verbose("Refreshing display type on next animation"),delete N.displayType},forceRepaint:function(){N.verbose("Forcing element repaint");var e=h.parent(),t=h.next();t.length===0?h.detach().appendTo(e):h.detach().insertBefore(t)},repaint:function(){N.verbose("Repainting element");var e=d.offsetWidth},delay:function(e){var n=N.get.animationDirection(),s,o;n||(n=N.can.transition()?N.get.direction():"static"),e=e!==r?e:v.interval,s=v.reverse=="auto"&&n==y.outward,o=s||v.reverse==1?(i.length-t)*v.interval:t*v.interval,N.debug("Delaying animation by",o),setTimeout(N.animate,o)},animate:function(e){v=e||v;if(!N.is.supported())return N.error(g.support),!1;N.debug("Preparing animation",v.animation);if(N.is.animating()){if(v.queue)return!v.allowRepeats&&N.has.direction()&&N.is.occurring()&&N.queuing!==!0?N.debug("Animation is currently occurring, preventing queueing same animation",v.animation):N.queue(v.animation),!1;if(!v.allowRepeats&&N.is.occurring())return N.debug("Animation is already occurring, will not execute repeated animation",v.animation),!1;N.debug("New animation started, completing previous early",v.animation),m.complete()}N.can.animate()?N.set.animating(v.animation):N.error(g.noAnimation,v.animation,d)},reset:function(){N.debug("Resetting animation to beginning conditions"),N.remove.animationCallbacks(),N.restore.conditions(),N.remove.animating()},queue:function(e){N.debug("Queueing animation of",e),N.queuing=!0,h.one(w+".queue"+T,function(){N.queuing=!1,N.repaint(),N.animate.apply(this,v)})},complete:function(e){N.debug("Animation complete",v.animation),N.remove.completeCallback(),N.remove.failSafe(),N.is.looping()||(N.is.outward()?(N.verbose("Animation is outward, hiding element"),N.restore.conditions(),N.hide()):N.is.inward()?(N.verbose("Animation is outward, showing element"),N.restore.conditions(),N.show()):(N.verbose("Static animation completed"),N.restore.conditions(),v.onComplete.call(d)))},force:{visible:function(){var e=h.attr("style"),t=N.get.userStyle(),n=N.get.displayType(),i=t+"display: "+n+" !important;",s=h.css("display"),o=e===r||e==="";s!==n?(N.verbose("Overriding default display to show element",n),h.attr("style",i)):o&&h.removeAttr("style")},hidden:function(){var e=h.attr("style"),t=h.css("display"),n=e===r||e==="";t!=="none"&&!N.is.hidden()?(N.verbose("Overriding default display to hide element"),h.css("display","none")):n&&h.removeAttr("style")}},has:{direction:function(t){var n=!1;return t=t||v.animation,typeof t=="string"&&(t=t.split(" "),e.each(t,function(e,t){if(t===y.inward||t===y.outward)n=!0})),n},inlineDisplay:function(){var t=h.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t,n;N.remove.completeCallback(),e=e||v.animation,t=N.get.animationClass(e),N.save.animation(t),N.force.visible(),N.remove.hidden(),N.remove.direction(),N.start.animation(t)},duration:function(e,t){t=t||v.duration,t=typeof t=="number"?t+"ms":t;if(t||t===0)N.verbose("Setting animation duration",t),h.css({"animation-duration":t})},direction:function(e){e=e||N.get.direction(),e==y.inward?N.set.inward():N.set.outward()},looping:function(){N.debug("Transition set to loop"),h.addClass(y.looping)},hidden:function(){h.addClass(y.transition).addClass(y.hidden)},inward:function(){N.debug("Setting direction to inward"),h.removeClass(y.outward).addClass(y.inward)},outward:function(){N.debug("Setting direction to outward"),h.removeClass(y.inward).addClass(y.outward)},visible:function(){h.addClass(y.transition).addClass(y.visible)}},start:{animation:function(e){e=e||N.get.animationClass(),N.debug("Starting tween",e),h.addClass(e).one(w+".complete"+T,N.complete),v.useFailSafe&&N.add.failSafe(),N.set.duration(v.duration),v.onStart.call(d)}},save:{animation:function(e){N.cache||(N.cache={}),N.cache.animation=e},displayType:function(e){e!=="none"&&h.data(b.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,N.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=N.get.currentAnimation();e&&(h.removeClass(e),N.verbose("Removing animation class",N.cache)),N.remove.duration()}},add:{failSafe:function(){var e=N.get.duration();N.timer=setTimeout(function(){h.triggerHandler(w)},e+v.failSafeDelay),N.verbose("Adding fail safe timer",N.timer)}},remove:{animating:function(){h.removeClass(y.animating)},animationCallbacks:function(){N.remove.queueCallback(),N.remove.completeCallback()},queueCallback:function(){h.off(".queue"+T)},completeCallback:function(){h.off(".complete"+T)},display:function(){h.css("display","")},direction:function(){h.removeClass(y.inward).removeClass(y.outward)},duration:function(){h.css("animation-duration","")},failSafe:function(){N.verbose("Removing fail safe timer",N.timer),N.timer&&clearTimeout(N.timer)},hidden:function(){h.removeClass(y.hidden)},visible:function(){h.removeClass(y.visible)},looping:function(){N.debug("Transitions are no longer looping"),N.is.looping()&&(N.reset(),h.removeClass(y.looping))},transition:function(){h.removeClass(y.visible).removeClass(y.hidden)}},get:{settings:function(t,n,r){return typeof t=="object"?e.extend(!0,{},e.fn.transition.settings,t):typeof r=="function"?e.extend({},e.fn.transition.settings,{animation:t,onComplete:r,duration:n}):typeof n=="string"||typeof n=="number"?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):typeof n=="object"?e.extend({},e.fn.transition.settings,n,{animation:t}):typeof n=="function"?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||v.animation,n=N.can.transition()&&!N.has.direction()?N.get.direction()+" ":"";return y.animating+" "+y.transition+" "+n+t},currentAnimation:function(){return N.cache&&N.cache.animation!==r?N.cache.animation:!1},currentDirection:function(){return N.is.inward()?y.inward:y.outward},direction:function(){return N.is.hidden()||!N.is.visible()?y.inward:y.outward},animationDirection:function(t){var n;return t=t||v.animation,typeof t=="string"&&(t=t.split(" "),e.each(t,function(e,t){t===y.inward?n=y.inward:t===y.outward&&(n=y.outward)})),n?n:!1},duration:function(e){return e=e||v.duration,e===!1&&(e=h.css("animation-duration")||0),typeof e=="string"?e.indexOf("ms")>-1?parseFloat(e):parseFloat(e)*1e3:e},displayType:function(){return v.displayType?v.displayType:(h.data(b.displayType)===r&&N.can.transition(!0),h.data(b.displayType))},userStyle:function(e){return e=e||h.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e=n.createElement("div"),t={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"},i;for(i in t)if(e.style[i]!==r)return t[i];return!1},animationEndEvent:function(){var e=n.createElement("div"),t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"},i;for(i in t)if(e.style[i]!==r)return t[i];return!1}},can:{transition:function(t){var n=v.animation,i=N.get.transitionExists(n),s,o,u,a,f,l,c;if(i===r||t){N.verbose("Determining whether animation exists"),s=h.attr("class"),o=h.prop("tagName"),u=e("<"+o+" />").addClass(s).insertAfter(h),a=u.addClass(n).removeClass(y.inward).removeClass(y.outward).addClass(y.animating).addClass(y.transition).css("animationName"),f=u.addClass(y.inward).css("animationName"),c=u.attr("class",s).removeAttr("style").removeClass(y.hidden).removeClass(y.visible).show().css("display"),N.verbose("Determining final display state",c),N.save.displayType(c),u.remove();if(a!=f)N.debug("Direction exists for animation",n),l=!0;else{if(a=="none"||!a){N.debug("No animation defined in css",n);return}N.debug("Static animation found",n,c),l=!1}N.save.transitionExists(n,l)}return i!==r?i:l},animate:function(){return N.can.transition()!==r}},is:{animating:function(){return h.hasClass(y.animating)},inward:function(){return h.hasClass(y.inward)},outward:function(){return h.hasClass(y.outward)},looping:function(){return h.hasClass(y.looping)},occurring:function(e){return e=e||v.animation,e="."+e.replace(" ","."),h.filter(e).length>0},visible:function(){return h.is(":visible")},hidden:function(){return h.css("visibility")==="hidden"},supported:function(){return w!==!1}},hide:function(){N.verbose("Hiding element"),N.is.animating()&&N.reset(),d.blur(),N.remove.display(),N.remove.visible(),N.set.hidden(),N.force.hidden(),v.onHide.call(d),v.onComplete.call(d)},show:function(e){N.verbose("Showing element",e),N.remove.hidden(),N.set.visible(),N.force.visible(),v.onShow.call(d),v.onComplete.call(d)},toggle:function(){N.is.visible()?N.hide():N.show()},stop:function(){N.debug("Stopping current animation"),h.triggerHandler(w)},stopAll:function(){N.debug("Stopping all animation"),N.remove.queueCallback(),h.triggerHandler(w)},clear:{queue:function(){N.debug("Clearing animation queue"),N.remove.queueCallback()}},enable:function(){N.verbose("Starting animation"),h.removeClass(y.disabled)},disable:function(){N.debug("Stopping animation"),h.addClass(y.disabled)},setting:function(t,n){N.debug("Changing setting",t,n);if(e.isPlainObject(t))e.extend(!0,v,t);else{if(n===r)return v[t];e.isPlainObject(v[t])?e.extend(!0,v[t],n):v[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,N,t);else{if(n===r)return N[t];N[t]=n}},debug:function(){!v.silent&&v.debug&&(v.performance?N.performance.log(arguments):(N.debug=Function.prototype.bind.call(console.info,console,v.name+":"),N.debug.apply(console,arguments)))},verbose:function(){!v.silent&&v.verbose&&v.debug&&(v.performance?N.performance.log(arguments):(N.verbose=Function.prototype.bind.call(console.info,console,v.name+":"),N.verbose.apply(console,arguments)))},error:function(){v.silent||(N.error=Function.prototype.bind.call(console.error,console,v.name+":"),N.error.apply(console,arguments))},performance:{log:function(e){var t,n,r;v.performance&&(t=(new Date).getTime(),r=o||t,n=t-r,o=t,u.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:d,"Execution Time":n})),clearTimeout(N.performance.timer),N.performance.timer=setTimeout(N.performance.display,500)},display:function(){var t=v.name+":",n=0;o=!1,clearTimeout(N.performance.timer),e.each(u,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),i.length>1&&(t+=" ("+i.length+")"),(console.group!==r||console.table!==r)&&u.length>0&&(console.groupCollapsed(t),console.table?console.table(u):e.each(u,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),u=[]}},invoke:function(t,n,i){var s=m,o,u,a;return n=n||l,i=d||i,typeof t=="string"&&s!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(s[a])&&n!=o)s=s[a];else{if(s[a]!==r)return u=s[a],!1;if(!e.isPlainObject(s[i])||n==o)return s[i]!==r?(u=s[i],!1):!1;s=s[i]}})),e.isFunction(u)?a=u.apply(i,n):u!==r&&(a=u),e.isArray(p)?p.push(a):p!==r?p=[p,a]:a!==r&&(p=a),u!==r?u:!1}},N.initialize()}),p!==r?p:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}})(jQuery,window,document);