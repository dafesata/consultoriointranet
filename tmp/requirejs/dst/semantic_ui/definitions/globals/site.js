/*!
 * # Semantic UI - Site
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */

(function(e,t,n,r){e.site=e.fn.site=function(i){var s=(new Date).getTime(),o=[],u=arguments[0],a=typeof u=="string",f=[].slice.call(arguments,1),l=e.isPlainObject(i)?e.extend(!0,{},e.site.settings,i):e.extend({},e.site.settings),c=l.namespace,h=l.error,p="."+c,d="module-"+c,v=e(n),m=v,g=this,y=m.data(d),b,w;return b={initialize:function(){b.instantiate()},instantiate:function(){b.verbose("Storing instance of site",b),y=b,m.data(d,b)},normalize:function(){b.fix.console(),b.fix.requestAnimationFrame()},fix:{console:function(){b.debug("Normalizing window.console");if(console===r||console.log===r)b.verbose("Console not available, normalizing events"),b.disable.console();if(typeof console.group=="undefined"||typeof console.groupEnd=="undefined"||typeof console.groupCollapsed=="undefined")b.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){};typeof console.markTimeline=="undefined"&&(b.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){b.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){b.debug("Normalizing requestAnimationFrame"),t.requestAnimationFrame===r&&(b.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return e.fn[t]!==r&&e.fn[t].settings!==r},enabled:{modules:function(t){var n=[];return t=t||l.modules,e.each(t,function(e,t){b.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||l.modules,e.each(t,function(e,t){b.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,i,s){i=typeof i=="string"?i==="all"?l.modules:[i]:i||l.modules,s=s!==r?s:!0,e.each(i,function(r,i){var o=b.moduleExists(i)?e.fn[i].settings.namespace||!1:!0,u;b.moduleExists(i)&&(b.verbose("Changing default setting",t,n,i),e.fn[i].settings[t]=n,s&&o&&(u=e(":data(module-"+o+")"),u.length>0&&(b.verbose("Modifying existing settings",u),u[i]("setting",t,n))))})},settings:function(t,n,i){n=typeof n=="string"?[n]:n||l.modules,i=i!==r?i:!0,e.each(n,function(n,r){var s;b.moduleExists(r)&&(b.verbose("Changing default setting",t,r),e.extend(!0,e.fn[r].settings,t),i&&c&&(s=e(":data(module-"+c+")"),s.length>0&&(b.verbose("Modifying existing settings",s),s[r]("setting",t))))})}},enable:{console:function(){b.console(!0)},debug:function(e,t){e=e||l.modules,b.debug("Enabling debug for modules",e),b.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||l.modules,b.debug("Enabling verbose debug for modules",e),b.change.setting("verbose",!0,e,t)}},disable:{console:function(){b.console(!1)},debug:function(e,t){e=e||l.modules,b.debug("Disabling debug for modules",e),b.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||l.modules,b.debug("Disabling verbose debug for modules",e),b.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(y.cache.console===r){b.error(h.console);return}b.debug("Restoring console function"),t.console=y.cache.console}else b.debug("Disabling console function"),y.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){b.verbose("Destroying previous site for",m),m.removeData(d)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,l,t);else{if(n===r)return l[t];l[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(n===r)return b[t];b[t]=n}},debug:function(){l.debug&&(l.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,l.name+":"),b.debug.apply(console,arguments)))},verbose:function(){l.verbose&&l.debug&&(l.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,l.name+":"),b.verbose.apply(console,arguments)))},error:function(){b.error=Function.prototype.bind.call(console.error,console,l.name+":"),b.error.apply(console,arguments)},performance:{log:function(e){var t,n,r;l.performance&&(t=(new Date).getTime(),r=s||t,n=t-r,s=t,o.push({Element:g,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=l.name+":",n=0;s=!1,clearTimeout(b.performance.timer),e.each(o,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(console.group!==r||console.table!==r)&&o.length>0&&(console.groupCollapsed(t),console.table?console.table(o):e.each(o,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),o=[]}},invoke:function(t,n,i){var s=y,o,u,a;return n=n||f,i=g||i,typeof t=="string"&&s!==r&&(t=t.split(/[\. ]/),o=t.length-1,e.each(t,function(n,i){var a=n!=o?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(s[a])&&n!=o)s=s[a];else{if(s[a]!==r)return u=s[a],!1;if(!e.isPlainObject(s[i])||n==o)return s[i]!==r?(u=s[i],!1):(b.error(h.method,t),!1);s=s[i]}})),e.isFunction(u)?a=u.apply(i,n):u!==r&&(a=u),e.isArray(w)?w.push(a):w!==r?w=[w,a]:a!==r&&(w=a),u}},a?(y===r&&b.initialize(),b.invoke(u)):(y!==r&&b.destroy(),b.initialize()),w!==r?w:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])}})})(jQuery,window,document);