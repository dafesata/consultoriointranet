function getAge(e,t,n){var r=new Date,i=new Date(r.getFullYear(),r.getMonth(),r.getDate()),s=r.getFullYear(),o=r.getMonth()+1,u=r.getDate(),a=n,f=t,l=e,c={},h="",p="",d="",v="";yearAge=s-a;if(o>=f)var m=o-f;else{yearAge--;var m=12+o-f}if(u>=l)var g=u-l;else{m--;var g=31+u-l;m<0&&(m=11,yearAge--)}return c={years:yearAge,months:m,days:g},c}$(document).ready(function(){$("#paciente_persona_attributes_tipoid").change(function(){var e;return e=$("#paciente_persona_attributes_tipoid option:selected").val(),$("#tipo_identidad").val(e)}),$("#paciente_persona_attributes_sexo").change(function(){var e;return e=$("#paciente_persona_attributes_sexo option:selected").val(),$("#Sexo").val(e)}),$("#paciente_persona_attributes_fecha_nac_3i").change(function(){var e,t,n,r;e=$("#paciente_persona_attributes_fecha_nac_3i option:selected").val(),t=$("#paciente_persona_attributes_fecha_nac_2i option:selected").val(),n=$("#paciente_persona_attributes_fecha_nac_1i option:selected").val(),r=getAge(parseInt(e),parseInt(t),parseInt(n)),$("#a_os").val(parseInt(r.years)),$("#meses").val(parseInt(r.months))}),$("#paciente_persona_attributes_fecha_nac_2i").change(function(){var e,t,n,r;e=$("#paciente_persona_attributes_fecha_nac_3i option:selected").val(),t=$("#paciente_persona_attributes_fecha_nac_2i option:selected").val(),n=$("#paciente_persona_attributes_fecha_nac_1i option:selected").val(),r=getAge(parseInt(e),parseInt(t),parseInt(n)),$("#a_os").val(parseInt(r.years)),$("#meses").val(parseInt(r.months))}),$("#paciente_persona_attributes_fecha_nac_1i").change(function(){var e,t,n,r;e=$("#paciente_persona_attributes_fecha_nac_3i option:selected").val(),t=$("#paciente_persona_attributes_fecha_nac_2i option:selected").val(),n=$("#paciente_persona_attributes_fecha_nac_1i option:selected").val(),r=getAge(parseInt(e),parseInt(t),parseInt(n)),$("#a_os").val(parseInt(r.years)),$("#meses").val(parseInt(r.months))}),$(".search_eps").search({apiSettings:{action:"search",url:"/eps/searcheps?query={query}"},fields:{results:"eps",title:"nombre"},minCharacters:3,onSelect:function(e,t){return $("#paciente_eps_id").val(e.codigo_eps),$("#nombre_eps").val(e.nombre),!0},onResultsOpen:function(){$("#paciente_eps_id").val(""),$("#nombre_eps").val("")}}),$(".paciente-form").form({on:"submit",fields:{numero_id:{identifier:"paciente_numero_id",rules:[{type:"empty",prompt:"Introduzca numero de identificacion Valido"},{type:"minLength[2]",prompt:"Introduzca numero de identificacion"}]},primer_nombre:{identifier:"paciente_persona_attributes_primer_nombre",rules:[{type:"empty",prompt:"Introduzca Primer Nombre"}]},primer_apellido:{identifier:"paciente_persona_attributes_primer_apellido",rules:[{type:"empty",prompt:"Introduzca Primer Apellido"}]},eps_id:{identifier:"paciente_eps_id",rules:[{type:"empty",prompt:"Introduzca EPS"}]}}})});